# Environment Configuration
# Copy to .env and customize for your deployment

# ===========================================
# PLATFORM API
# ===========================================
# Port for the API server
PORT=3000

# Platform URL (used for actor API calls)
PLATFORM_URL=http://localhost:3000

# API secret for internal services
API_SECRET=change-me-in-production

# ===========================================
# DATABASE
# ===========================================
# PostgreSQL connection (cloud-agnostic)
# Works with: AWS RDS, GCP Cloud SQL, Azure Database, 
#             DigitalOcean, Supabase, Railway, or self-hosted
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/crawlee_cloud

# ===========================================
# OBJECT STORAGE
# ===========================================
# S3-compatible storage for datasets and files
# Works with: AWS S3, MinIO, DigitalOcean Spaces, 
#             Cloudflare R2, Backblaze B2, Wasabi

S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=crawlee-cloud
S3_REGION=us-east-1
# Set to true for path-style URLs (required for MinIO)
S3_FORCE_PATH_STYLE=true

# ===========================================
# REDIS (Queue & Cache)
# ===========================================
# Works with: AWS ElastiCache, Redis Cloud, Upstash,
#             Railway, or self-hosted
REDIS_URL=redis://localhost:6379

# ===========================================
# PROXY CONFIGURATION (BYOP)
# ===========================================
# Configure your proxy provider (optional)
# Supported: apify, brightdata, oxylabs, smartproxy, custom

# PROXY_PROVIDER=custom
# PROXY_URLS=http://user:pass@proxy1:8080,http://user:pass@proxy2:8080
# PROXY_ROTATION=round-robin

# Apify Proxy (if using)
# APIFY_PROXY_PASSWORD=your-apify-proxy-password

# BrightData (if using)
# BRIGHTDATA_USERNAME=your-username
# BRIGHTDATA_PASSWORD=your-password
# BRIGHTDATA_ZONE=residential

# ===========================================
# AUTHENTICATION
# ===========================================
# JWT secret for user authentication
JWT_SECRET=change-me-to-a-long-random-string

# Optional: OAuth providers
# GITHUB_CLIENT_ID=
# GITHUB_CLIENT_SECRET=
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=

# ===========================================
# DOCKER RUNNER
# ===========================================
# Docker socket for spawning Actor containers
DOCKER_SOCKET=/var/run/docker.sock

# Maximum memory per Actor run (MB)
ACTOR_MAX_MEMORY_MB=4096

# Default memory per Actor run (MB)
ACTOR_DEFAULT_MEMORY_MB=1024

# Actor execution timeout (seconds)
ACTOR_TIMEOUT_SECS=3600

# Docker network for Actor containers
DOCKER_NETWORK=crawlee-cloud-network

# Container registry (for Actor images)
# CONTAINER_REGISTRY=ghcr.io/your-org

# ===========================================
# WEBHOOKS
# ===========================================
# Webhook retry settings
WEBHOOK_MAX_RETRIES=3
WEBHOOK_RETRY_DELAY_MS=5000

# ===========================================
# LOGGING & MONITORING
# ===========================================
LOG_LEVEL=info
# LOG_FORMAT=json

# Optional: External logging
# LOKI_URL=http://loki:3100
# SENTRY_DSN=

# ===========================================
# OPTIONAL: KUBERNETES
# ===========================================
# Set to true when running in Kubernetes
# K8S_MODE=false
# K8S_NAMESPACE=crawlee-cloud
# K8S_JOB_TTL_SECONDS=3600
